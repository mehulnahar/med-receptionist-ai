# =============================================================================
# AI Medical Receptionist - Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values.
#
# For development:  docker compose --env-file .env up -d
# For production:   docker compose -f docker-compose.prod.yml --env-file .env up -d --build
# =============================================================================

# -----------------------------------------------------------------------------
# Database (PostgreSQL 16)
# -----------------------------------------------------------------------------
# Username for the PostgreSQL database
POSTGRES_USER=medrecept

# CHANGE THIS! Use a strong, random password (32+ characters recommended)
POSTGRES_PASSWORD=CHANGE_ME_use_a_strong_random_password

# Database name
POSTGRES_DB=medical_receptionist

# Async connection string (used by FastAPI with asyncpg driver)
# Constructed automatically in docker-compose, but set here for non-Docker use
DATABASE_URL=postgresql+asyncpg://medrecept:YOUR_PASSWORD@db:5432/medical_receptionist

# Synchronous connection string (used for Alembic migrations)
DATABASE_URL_SYNC=postgresql://medrecept:YOUR_PASSWORD@db:5432/medical_receptionist

# -----------------------------------------------------------------------------
# Authentication (JWT)
# -----------------------------------------------------------------------------
# CHANGE THIS! Secret key for signing JWT tokens
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET=CHANGE_ME_generate_with_python_secrets_token_urlsafe_64

# How long access tokens are valid (in hours)
JWT_EXPIRY_HOURS=24

# -----------------------------------------------------------------------------
# CORS (Cross-Origin Resource Sharing)
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
# Development: http://localhost:5173,http://localhost:3000
# Production:  https://yourdomain.com
CORS_ORIGINS=https://yourdomain.com

# -----------------------------------------------------------------------------
# Twilio (Telephony / SMS)
# -----------------------------------------------------------------------------
# Get these from https://console.twilio.com/
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_twilio_auth_token

# -----------------------------------------------------------------------------
# Vapi.ai (Voice AI Agent)
# -----------------------------------------------------------------------------
# Get these from https://dashboard.vapi.ai/
VAPI_API_KEY=your_vapi_api_key

# Webhook secret for verifying Vapi callbacks
VAPI_WEBHOOK_SECRET=your_vapi_webhook_secret

# -----------------------------------------------------------------------------
# Stedi (Insurance Verification)
# -----------------------------------------------------------------------------
# Get this from https://www.stedi.com/app/settings/api-keys
STEDI_API_KEY=your_stedi_api_key

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
# Public URL of the application (used for webhook callbacks, email links, etc.)
# Development: http://localhost:80
# Production:  https://yourdomain.com
APP_URL=https://yourdomain.com

# Application environment: development | staging | production
APP_ENV=production

# Logging level: debug | info | warning | error | critical
LOG_LEVEL=info

# Number of Uvicorn worker processes (production only)
# Recommended: 2 * CPU_CORES + 1
UVICORN_WORKERS=4

# -----------------------------------------------------------------------------
# Frontend Build (Production Only)
# -----------------------------------------------------------------------------
# Base URL for API requests from the frontend (relative path uses same origin)
VITE_API_BASE_URL=/api

# -----------------------------------------------------------------------------
# Nginx / Ports (Production Only)
# -----------------------------------------------------------------------------
# Host ports to bind (change if 80/443 are already in use)
HTTP_PORT=80
HTTPS_PORT=443

# Path to SSL certificate directory on the host
# Must contain fullchain.pem and privkey.pem for HTTPS
SSL_CERT_DIR=./nginx/ssl
